{"version":3,"file":"reactive-json-form-ng.umd.js.map","sources":["ng://reactive-json-form-ng/lib/core/context.ts",null,"ng://reactive-json-form-ng/lib/core/abstractwidget.ts","ng://reactive-json-form-ng/lib/core/expressions.ts","ng://reactive-json-form-ng/lib/core/defaultwidget.component.ts","ng://reactive-json-form-ng/lib/core/widgetregistry.service.ts","ng://reactive-json-form-ng/lib/core/widget.directive.ts","ng://reactive-json-form-ng/lib/core/format.ts","ng://reactive-json-form-ng/lib/core/routedwidget.component.ts","ng://reactive-json-form-ng/lib/core/core.module.ts","ng://reactive-json-form-ng/lib/core/formfieldwidget.ts","ng://reactive-json-form-ng/lib/material/material.module.ts","ng://reactive-json-form-ng/lib/material/formfield/input/input.component.ts","ng://reactive-json-form-ng/lib/material/formfield/checkbox/checkbox.component.ts","ng://reactive-json-form-ng/lib/material/formfield/toggle/toggle.component.ts","ng://reactive-json-form-ng/lib/material/formfield/slider/slider.component.ts","ng://reactive-json-form-ng/lib/material/formfield/button/button.component.ts","ng://reactive-json-form-ng/lib/material/formfield/form/form.component.ts","ng://reactive-json-form-ng/lib/material/formfield/autocomplete/autocomplete.component.ts","ng://reactive-json-form-ng/lib/material/formfield/formfield.module.ts","ng://reactive-json-form-ng/lib/material/common/card/card.component.ts","ng://reactive-json-form-ng/lib/material/common/table/table.component.ts","ng://reactive-json-form-ng/lib/material/common/container/container.component.ts","ng://reactive-json-form-ng/lib/material/common/grid-container/gridcontainer.component.ts","ng://reactive-json-form-ng/lib/material/common/tabs/tabs.component.ts","ng://reactive-json-form-ng/lib/material/common/code/code.component.ts","ng://reactive-json-form-ng/lib/material/common/common.module.ts"],"sourcesContent":["/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nexport interface IContextDef {\n  [identifier: string]: any;\n}\n\n\n/**\n * Helper class to hold context for expression evaluation.\n * It only gives a 'type' to a plain object.\n * It has static methods to manage inheritance and adding properties and builtins\n */\nexport class Context {\n\n  /** Helper definition of built-in objects */\n  static builtinsDef: IContextDef = {\n\n    // Builtin functions:\n    parseFloat: parseFloat,\n    parseInt: parseInt,\n    isNaN: isNaN,\n    isFinite: isFinite,\n\n    // Fundamental objects:\n    Number: Number,\n    Math: Math,\n    Date: Date,\n    Array: Array,\n    JSON: JSON,\n    Object: Object,\n\n  };\n\n  /**\n   * Creates a Context object, inheriting from an optional `parent` and adding custom properties\n   * and optionally builtin objects\n   * @param parent\n   * @param publicProps\n   * @param readonlyProps\n   * @param hiddenProps\n   * @param builtins Boolean. If true adds builtinobjects as public properties,\n   */\n  static create(parent?: Context, publicProps?: IContextDef,\n    readonlyProps?: IContextDef,\n    hiddenProps?: IContextDef,\n    builtins?: boolean): Context {\n\n    const context: Context = parent ? Object.create(parent) : new Context();\n\n    if (builtins) Context.defineReadonly(context, Context.builtinsDef);\n    if (publicProps) Object.assign(context, publicProps);\n    if (readonlyProps) Context.defineReadonly(context, readonlyProps);\n    if (hiddenProps) Context.defineHidden(context, hiddenProps);\n\n    return context;\n  }\n\n  /** Adds readonly properties to a Context */\n  static defineReadonly(context: Context, Props: IContextDef) {\n\n    // tslint:disable-next-line:forin\n    for (const prop in Props) {\n      Object.defineProperty(context, prop, {\n        enumerable: true,\n        writable: false,\n        value: Props[prop]\n      });\n    }\n\n    return context;\n  }\n\n  /** Adds hidden (non enumerable) properties to a Context */\n  static defineHidden(context: Context, hiddenProps: IContextDef) {\n\n    // tslint:disable-next-line:forin\n    for (const prop in hiddenProps) {\n      Object.defineProperty(context, prop, {\n        enumerable: false,\n        writable: true,\n        value: hiddenProps[prop]\n      });\n    }\n\n    return context;\n  }\n\n  /** adds public properties only if they don't exist in parent */\n  static defineWeak(context: Context, props: IContextDef) {\n\n    // tslint:disable-next-line:forin\n    for (const prop in props) {\n      if (prop in context) continue;\n      Object.defineProperty(context, prop, {\n        enumerable: true,\n        writable: true,\n        value: props[prop]\n      });\n    }\n  }\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","\n/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { OnDestroy, ChangeDetectorRef, Input, OnChanges, OnInit } from '@angular/core';\nimport { Observable, of, Subscription, combineLatest, isObservable } from 'rxjs';\nimport { tap, map } from 'rxjs/operators';\nimport { IWidgetDef } from './widget.interface';\nimport { WidgetDirective } from './widget.directive';\nimport { Context } from './context';\nimport { Expressions } from './expressions';\n\nexport interface IOptionDef { [prop: string]: any; }\n\n/**\n * Base class for all dynamic widget elements\n */\nexport abstract class AbstractWidget implements OnDestroy, OnChanges, OnInit {\n\n  /** Configuration of the widget */\n  @Input() widgetDef: IWidgetDef;\n  @Input() context: Context;\n\n  /** String identifing the 'type' of the widget */\n  type: string;\n  /** Context to use for evaluations at this level */\n\n  /** Widget specific options all converted to observables, to unify between *expression* and\n   * *constant* notation in the properties definition.\n   * Each binding then auto updates the corresponding property in the derived widget.\n   */\n  bindings: { [prop: string]: Observable<any> } = {};\n  /** The input configuration of this object */\n\n  content: IWidgetDef[];\n\n  element: WidgetDirective;\n\n  set addSubscription(subs: Subscription) {\n    this._subscriptions.push(subs);\n  }\n\n  private _subscriptions: Subscription[] = [];\n\n\n  constructor(protected _cdr: ChangeDetectorRef, protected _expr: Expressions) {\n  }\n\n  /** Initialices the widget from a json definition */\n  setup(element: WidgetDirective, def: IWidgetDef, context: Context) {\n    def = def || { type: 'none' };\n    def.options = def.options || {};\n\n    this.type = def.type || 'none';\n    this.element = element;\n\n    console.log(`Widget setup ${this.type}`, this);\n\n    this.context = context;\n\n    this.widgetDef = def = this.dynOnSetup(def) || def;\n\n    this.bindings = parseDefObject(def.options, this.context, true, this._expr);\n\n    this.content = Array.isArray(def.content) ? def.content : typeof def.content === 'object' ? [def.content] : [];\n\n    this.subscribeOptions();\n  }\n\n  /**\n   * Helper function to add a `map` pipe to the corresponding input observable\n   */\n  map(option: string, callback: (v: any) => any) {\n    const opt: Observable<any> = this.bindings[option];\n    if (opt) this.bindings[option] = opt.pipe(map(callback));\n\n  }\n  /**\n   * Hook to customize the observable bindings befor subscribing.\n   * Tipically using the `this.map()` function to add processing to specific options\n   */\n  dynOnBeforeBind() { }\n\n  dynOnAfterBind() { }\n\n  /** Hook to customize widget definition before procesing it */\n  dynOnSetup(def: IWidgetDef) { return def; }\n\n  subscribeOptions() {\n    const observables = [];\n\n    // call hook for cofiguration of options before updating the bound value\n    this.dynOnBeforeBind();\n\n    for (const prop in this.bindings) // tslint:disable-line:forin\n      this.bindings[prop] = this.bindings[prop].pipe(tap(res => this[prop] = res));\n\n    // call hook after updating the bound value\n    this.dynOnAfterBind();\n\n    for (const prop in this.bindings) // tslint:disable-line:forin\n      observables.push(this.bindings[prop]);\n\n    this.addSubscription = combineLatest(observables).subscribe(() => this._cdr.markForCheck());\n\n  }\n\n  ngOnDestroy() {\n    this._unsubscribe();\n  }\n\n  /**\n   * OnChanges is never called on dynamic widget instantiation\n   * It is intended to provide the same interface is the widget is used declarative in a template\n   * instead of dynamically\n   */\n  ngOnChanges() {\n    console.log(`Widget OnChanges ${this.type}`, this);\n    this._unsubscribe();\n    this.setup(null, this.widgetDef, this.context);\n  }\n\n  ngOnInit() {\n    console.log(`Widget OnInit ${this.type}`, this);\n  }\n\n  private _unsubscribe() {\n    for (const subs of this._subscriptions) subs.unsubscribe();\n  }\n\n}\n\nexport function parseDefObject(objDef: IOptionDef, context: Context, asObservable: boolean, expr: Expressions) {\n\n  const result: IOptionDef = {};\n\n  if (!objDef) return null;\n\n  for (const prop in objDef) {\n\n    if (prop.charAt(prop.length - 1) === '=') {\n      if (typeof objDef[prop] !== 'string') throw new SyntaxError('Binding options must be \"string\" Iexpressions');\n      result[prop.slice(0, prop.length - 1)] = expr.eval(objDef[prop], context, asObservable);\n\n    } else result[prop] = asObservable && !isObservable(objDef[prop]) ? of(objDef[prop]) : objDef[prop];\n  }\n  return result;\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport {\n  ReactiveEval, StaticEval, Parser, es5Rules,\n  IdentifierRule, BinaryOperatorRule, MEMBER_EXP\n} from 'espression';\nimport { isObservable, of, EMPTY } from 'rxjs';\nimport { Context } from './context';\n\nexport interface IAst {\n  type: string;\n  [prop: string]: any;\n}\n\nexport abstract class Expressions {\n\n  abstract parseKey(expression: string): IAst;\n  abstract parse(expression: string): IAst;\n  /**\n   * Evaluates an expression in the given context.\n   * It uses the general parser.\n   *\n   * @param expression String expression\n   * @param context\n   * @param asObservable Always converts result to observable\n   */\n  eval(expression: string, context: Context, asObservable: boolean) {\n    const ast = this.parse(expression);\n\n    return this.evaluate(ast, context, asObservable);\n  }\n  abstract evaluate(ast: IAst, context: Context, asObservable: boolean): any;\n  abstract lvalue(expression: string, context: Context): { o, m };\n}\n\n\n/**\n * Service for Parsing and for evaluating expressions in Widget's configuration\n * The funcionality is provided by the ESpression package\n *\n */\nexport class ESpression extends Expressions {\n\n  private _parser: Parser;\n  private _keyParser: Parser;\n\n  private _rxEval: StaticEval;\n\n  constructor() {\n\n    super();\n    const es5 = es5Rules();\n\n    // remove Progam / Statements rules, and keep only expressions\n    es5[0] = [];\n\n    this._parser = new Parser(es5);\n\n\n    const identifierRule = new IdentifierRule({ thisStr: null, literals: {} });\n    this._keyParser = new Parser([\n      [new BinaryOperatorRule({\n        '.': {\n          type: MEMBER_EXP,\n          extra: { computed: false },\n          noop: true,\n          left: 'object', right: 'property',\n          rules: [[identifierRule]]\n        }\n      })],\n      [identifierRule]\n    ]);\n\n    this._rxEval = new ReactiveEval();\n  }\n\n  /**\n   * Parses the string expression using the general parsing rules.\n   *\n   * * @param expression\n   */\n  parse(expression: string): IAst {\n    let result: IAst;\n    try {\n      result = this._parser.parse(expression);\n    } catch (e) {\n      console.warn('Parsing Error', e.message, '\\n', expression);\n      result = undefined;\n    }\n\n    return result;\n  }\n\n  /**\n   * Parses the string expression using the restricted 'key' parsing rules,\n   * intended to parse bindings to model keys.\n   * As they must be lvalues the rules are more limited.\n   *\n   * @param expression\n   */\n  parseKey(expression: string): IAst {\n    let result: IAst;\n    try {\n      result = this._keyParser.parse(expression);\n    } catch (e) {\n      console.warn('Parsing Error', e.message, '\\n', expression);\n      result = undefined;\n    }\n\n    return result;\n  }\n\n  /**\n   * Evaluate an AST in the given context.\n   *\n   * @param ast Parsed expression to evaluate\n   * @param context\n   * @param asObservable Always converts result to observable\n   */\n  evaluate(ast: IAst, context: Context, asObservable: boolean) {\n    if (!ast) return asObservable ? EMPTY : undefined;\n\n    let result;\n    try {\n      result = this._rxEval.eval(ast, context);\n    } catch (e) {\n      console.warn('Error evaluating expression: ', e.message);\n      return asObservable ? of(undefined) : undefined;\n    }\n\n    return asObservable && !isObservable(result) ? of(result) : result;\n  }\n\n  /**\n   * Evaluates an expression using *key* parsing rules and returns and lvalue object:\n   * {o: evaluated_object, m: member}\n   *\n   * @param expression\n   * @param context\n   */\n  lvalue(expression: string, context: Context): { o, m } {\n    let result;\n\n    const ast = this.parseKey(expression);\n\n    if (!ast) return null;\n    try {\n      result = this._rxEval.lvalue(ast, context);\n    } catch (e) {\n      console.warn('Error evaluating expression: ', e.message);\n      return undefined;\n    }\n\n    return result;\n  }\n\n\n  /**\n   * Expression version of the Array.map function.\n   * I replaces each array/object member with the result of evaluating an expression.\n   * The expression gets in its eval context the variables:\n   * `$object` the original object being maped\n   * `$value` the current value\n   * `$index` for arrays, the current index being replaced\n   * `$key` for objects, the current key\n   */\n  mapFactory() {\n    const self = this;\n    return function map(obj: Array<any> | Object, expression: string): Array<any> | Object {\n\n      if (!expression || typeof expression !== 'string') return obj;\n\n\n      const ast = self._parser.parse(expression);\n      if (!ast) return obj;\n\n      if (Array.isArray(obj)) {\n\n        return obj.map((value, index) =>\n          self._rxEval.eval(ast, Context.create(this, { // tslint:disable-line:no-invalid-this\n            $object: obj,\n            $value: value,\n            $index: index\n          })));\n      }\n      if (typeof obj === 'object') {\n\n        const result = {};\n\n        for (const prop in obj) // tslint:disable-line:forin\n\n          result[prop] = self._rxEval.eval(ast, Context.create(this, { // tslint:disable-line:no-invalid-this\n            $object: obj,\n            $value: obj[prop],\n            $key: prop\n          }));\n\n        return result;\n      }\n      return obj;\n    };\n  }\n\n  /**\n  * Expression version of the Array.reduce function.\n   * I replaces each array/object member with the result of evaluating an expression.\n   * The expression gets in its eval context the variables:\n   * `$object` the original object being maped\n   * `$value` the current element\n   * `$index` for arrays, the current index being replaced\n   * `$key` for objects, the current key\n   * `$prev` the previously returned value (the acumulation)\n   * @param obj\n   * @param expression\n   * @param initValue\n   */\n  reduceFactory() {\n    const self = this;\n\n    return function reduce(obj: Array<any> | Object, expression: string, initValue: any): Array<any> | Object {\n\n      if (!expression || typeof expression !== 'string') return obj;\n\n      const ast = self._parser.parse(expression);\n      if (!ast) return initValue;\n\n      if (Array.isArray(obj)) {\n        return obj.reduce(\n          (prev, value, index) =>\n\n            self._rxEval.eval(ast, Context.create(this, { // tslint:disable-line:no-invalid-this\n              $object: obj,\n              $prev: prev,\n              $value: value,\n              $index: index\n            })), initValue);\n      }\n      if (typeof obj === 'object') {\n\n        let result = initValue;\n\n        for (const prop in obj) // tslint:disable-line:forin\n\n          result = self._rxEval.eval(ast, Context.create(this, { // tslint:disable-line:no-invalid-this\n            $prev: result,\n            $value: obj[prop],\n            $key: prop\n          }));\n\n        return result;\n      }\n      return obj;\n    };\n  }\n}\n\nexport const expressionProvider = {\n  provide: Expressions,\n  useClass: ESpression\n};\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef} from '@angular/core';\nimport { AbstractWidget } from './abstractwidget';\nimport { Expressions } from './expressions';\n\n@Component({\n  selector: 'wdg-default',\n  template: '<div>Unknown widget \"{{type}}\"</div>',\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class DefaultWidgetComponent extends AbstractWidget {\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Type, Inject, InjectionToken, Injectable } from '@angular/core';\nimport { AbstractWidget } from './abstractwidget';\nimport { DefaultWidgetComponent } from './defaultwidget.component';\n\nexport const AF_CONFIG_TOKEN = new InjectionToken<IAutoFormConfig>('AF_CONFIG_TOKEN');\n\n\nexport interface IWidgetConf {\n  type: string;\n  component: Type<AbstractWidget>;\n}\n\nexport interface IAutoFormConfig {\n  widgets?: IWidgetConf[] | IWidgetConf;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class WidgetRegistry {\n\n  private _registry = new Map<string, Type<AbstractWidget>>();\n\n  private _default: Type<AbstractWidget>;\n\n\n  constructor(@Inject(AF_CONFIG_TOKEN) configs: IAutoFormConfig[] = []) {\n\n    configs.forEach(conf => conf.widgets && this.register(conf.widgets));\n\n    this._default = this._registry.get('default') || DefaultWidgetComponent;\n  }\n\n  register(widgets: IWidgetConf[] | IWidgetConf) {\n    if (!widgets) return;\n    if (!Array.isArray(widgets)) widgets = [widgets];\n\n    widgets.forEach(widget => {\n      if (widget.type && widget.component) this._registry.set(widget.type, widget.component);\n    });\n  }\n\n\n\n\n  get(type: string): Type<AbstractWidget> {\n    return this._registry.get(type) || this._default;\n  }\n\n}\n","import {\n  Directive, Input,\n  ViewContainerRef,\n  ComponentFactoryResolver, ComponentRef,\n  OnChanges, OnDestroy, Optional, Inject, InjectionToken,\n} from '@angular/core';\nimport { WidgetRegistry } from './widgetregistry.service';\nimport { Subscription } from 'rxjs';\nimport { AbstractWidget, parseDefObject } from './abstractwidget';\nimport { IWidgetDef } from './widget.interface';\nimport { Context } from './context';\nimport { Expressions } from './expressions';\n\n/** Injection token used to provide the default root context for widgets */\nexport const ROOT_CONTEXT = new InjectionToken<Context>('Widgets Root Context');\n\n@Directive({\n  selector: '[wdgWidget]'\n})\nexport class WidgetDirective implements OnChanges, OnDestroy {\n\n  @Input() wdgWidget: IWidgetDef;\n  @Input() parentContext: Context;\n\n  widget: AbstractWidget;\n  context: Context;\n  private _widgetRef: ComponentRef<AbstractWidget>;\n  private _ifSubs: Subscription;\n\n  constructor(\n    private _container: ViewContainerRef,\n    private _registry: WidgetRegistry,\n    private _cfr: ComponentFactoryResolver,\n    @Optional() @Inject(ROOT_CONTEXT) private _rootContext: Context,\n    private _expr: Expressions\n  ) {\n  }\n\n  ngOnChanges() {\n\n    this._preCreate();\n\n  }\n\n  ngOnDestroy() {\n    this._destroy();\n    this._unsuscribe();\n  }\n\n  private _preCreate() {\n    this.wdgWidget = this.wdgWidget || { type: 'none' };\n    this.parentContext = this.parentContext || this._rootContext;\n    this.context = Context.create(this.parentContext, parseDefObject(this.wdgWidget.context, this.parentContext, false, this._expr));\n\n    this._destroy();\n    this._unsuscribe();\n\n    if (this.wdgWidget.if) {\n      this._ifSubs = this._expr.eval(this.wdgWidget.if, this.context, true).subscribe(cond => {\n        if (cond && !this._widgetRef) this._create();\n        else this._destroy();\n      });\n    } else this._create();\n\n\n  }\n\n  private _create() {\n\n    const widgetClass = this._registry.get(this.wdgWidget.type);\n    const factory = this._cfr.resolveComponentFactory(widgetClass);\n    this._widgetRef = this._container.createComponent(factory);\n    this.widget = this._widgetRef.instance;\n\n    this.widget.setup(this, this.wdgWidget, this.context);\n\n  }\n\n  private _destroy() {\n    if (this._widgetRef) {\n      this._widgetRef.destroy();\n      this._widgetRef = null;\n    }\n\n  }\n\n  private _unsuscribe() {\n\n    if (this._ifSubs) {\n      this._ifSubs.unsubscribe();\n      this._ifSubs = null;\n    }\n  }\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { formatNumber, formatDate } from '@angular/common';\nimport { Pipe, PipeTransform } from '@angular/core';\n\n/** Angular Pipe to format text */\n@Pipe({\n  name: 'format',\n  pure: true\n})\nexport class FormatPipe implements PipeTransform {\n  transform(value: any, format: any) {\n    return format ? formatValue(value, format) : value;\n  }\n}\n\nexport function formatValue(value: any, format: string) {\n  if (typeof format !== 'string' || value == null) return value;\n  const re = /^\\s*(\\w+)\\s*(:([\"'])([^\"']*)\\3)?$/;\n\n  const match: RegExpExecArray = re.exec(format);\n\n  if (!match[0]) return value;\n\n  switch (match[1].toUpperCase()) {\n    case 'NUMBER':\n      let num;\n      num = parseFloat(value);\n      return isNaN(num) ? value : formatNumber(num, 'en-US', match[4]);\n    case 'DATE':\n      return formatDate(value, match[4], 'en-US');\n  }\n\n  return value;\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { IWidgetDef } from './widget.interface';\nimport { Context } from './context';\n\n@Component({\n  selector: 'wdg-widget',\n  template: '<ng-container [wdgWidget]=\"widgetDef\" [parentContext]=\"parentContext\"></ng-container>',\n\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class RoutedWidgetComponent implements OnInit {\n\n  widgetDef: IWidgetDef;\n  parentContext: Context;\n\n  constructor(private _route: ActivatedRoute) { }\n  ngOnInit() {\n    this.widgetDef = this._route.snapshot.data.widgetDef || { type: 'empty' };\n    this.parentContext = this._route.snapshot.data.parentContext;\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { CommonModule } from '@angular/common';\nimport { NgModule, ModuleWithProviders, ANALYZE_FOR_ENTRY_COMPONENTS } from '@angular/core';\n\nimport { DefaultWidgetComponent } from './defaultwidget.component';\nimport { AF_CONFIG_TOKEN, IAutoFormConfig } from './widgetregistry.service';\nimport { WidgetDirective } from './widget.directive';\nimport { FormatPipe } from './format';\nimport { RoutedWidgetComponent } from './routedwidget.component';\n\n@NgModule({\n\n  imports: [CommonModule],\n  declarations: [\n    WidgetDirective,\n    RoutedWidgetComponent,\n    DefaultWidgetComponent,\n    FormatPipe\n  ],\n  entryComponents: [DefaultWidgetComponent],\n  exports: [\n    WidgetDirective,\n    RoutedWidgetComponent,\n    FormatPipe\n  ]\n})\nexport class WidgetsCoreModule {\n\n  static forRoot(config: IAutoFormConfig = {}): ModuleWithProviders {\n    return {\n      ngModule: WidgetsCoreModule,\n      providers: [\n        { provide: AF_CONFIG_TOKEN, useValue: config, multi: true },\n        { provide: ANALYZE_FOR_ENTRY_COMPONENTS, useValue: config, multi: true }\n      ]\n    };\n  }\n}\n\n\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { FormControl, FormGroup, FormArray, AbstractControl } from '@angular/forms';\nimport { ChangeDetectorRef} from '@angular/core';\nimport { GET_OBSERVABLE, isReactive, INode } from 'espression';\nimport { take, map } from 'rxjs/operators';\nimport { AbstractWidget } from './abstractwidget';\nimport { Context } from './context';\nimport { Expressions } from './expressions';\nimport { IWidgetDef } from './widget.interface';\n\n\nexport const FORM_CONTROL = Symbol('FormControl');\nexport class AbstractFormFieldWidget extends AbstractWidget {\n\n\n  formControl: FormControl;\n\n  validate: INode;\n  validateContext: Context;\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n  dynOnSetup(def: IWidgetDef): IWidgetDef {\n\n    // get bound model\n    if (!def.bind)\n      throw new Error('Form field widgets must have a \"bind\" property defined');\n\n    const lvalue = this._expr.lvalue(def.bind, this.context);\n\n    if (!lvalue)\n      throw new Error('Form field \"bind\" property must be an identifier or member expression');\n\n    if (!isReactive(lvalue.o))\n      throw new Error('Bound Key must be of Reactive Type');\n\n\n    // setup validation\n\n\n    if (def.validate && (this.validate = this._expr.parse(def.validate))) {// tslint:disable-line:whitespace\n      this.validateContext = Context.create(this.context);\n\n      this.formControl = new FormControl(null, null, (ctrl: AbstractControl) => {\n        this.validateContext['$value'] = ctrl.value;\n        return this._expr.evaluate(this.validate, this.validateContext, true).pipe(\n          take(1),\n          map(res => {\n            return res ? null : { validate: 'validation error' };\n          })\n        );\n      });\n    } else this.formControl = new FormControl();\n\n    const parentForm: FormGroup | FormArray = this.context[FORM_CONTROL];\n    if (parentForm) {\n      if (parentForm instanceof FormGroup) parentForm.addControl(lvalue.m, this.formControl);\n      else if (parentForm instanceof FormArray) parentForm.push(this.formControl);\n    }\n\n    // listen to bound context value and update on changes\n    this.addSubscription = lvalue.o[GET_OBSERVABLE](lvalue.m).subscribe(val =>\n      val !== this.formControl.value && this.formControl.setValue(val));\n\n    // listen to control changes to update bound context value\n    this.addSubscription = this.formControl.valueChanges.subscribe(val => {\n      if (val !== lvalue.o[lvalue.m])\n        lvalue.o[lvalue.m] = val;\n    });\n\n\n    return def;\n  }\n}\n","/*!\n * Copyright (c) 2017 Adrian Panella <ianchi74@outlook.com>, contributors.\n * Licensed under the MIT license.\n */\n\nimport { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ReactiveFormsModule } from '@angular/forms';\n\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatDialogModule } from '@angular/material/dialog';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatSidenavModule } from '@angular/material/sidenav';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatToolbarModule } from '@angular/material/toolbar';\nimport { MatProgressBarModule } from '@angular/material/progress-bar';\nimport { MatExpansionModule } from '@angular/material/expansion';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatTabsModule } from '@angular/material/tabs';\nimport { MatSnackBarModule } from '@angular/material/snack-bar';\nimport { MatSlideToggleModule } from '@angular/material/slide-toggle';\nimport { MatChipsModule } from '@angular/material/chips';\nimport { MatAutocompleteModule } from '@angular/material/autocomplete';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { MatTableModule } from '@angular/material/table';\nimport { MatPaginatorModule } from '@angular/material/paginator';\nimport { MatSortModule } from '@angular/material/sort';\nimport { MatMenuModule } from '@angular/material/menu';\n\n/**\n * Helper module to centrally import all material components\n */\n@NgModule({\n  exports: [\n    CommonModule,\n    ReactiveFormsModule,\n\n    MatAutocompleteModule,\n    MatSidenavModule,\n    MatButtonModule,\n    MatIconModule,\n    MatListModule,\n    MatInputModule,\n    MatDialogModule,\n    MatToolbarModule,\n    MatProgressBarModule,\n    MatExpansionModule,\n    MatSelectModule,\n    MatTabsModule,\n    MatSnackBarModule,\n    MatSlideToggleModule,\n    MatChipsModule,\n    MatCardModule,\n    MatCheckboxModule,\n    MatSliderModule,\n    MatTableModule,\n    MatPaginatorModule,\n    MatSortModule,\n    MatMenuModule,\n  ]\n})\nexport class MaterialModule { }\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { Expressions, AbstractFormFieldWidget } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-input',\n  template: `<mat-form-field style.width=\"100%\">\n\n    <mat-label *ngIf=\"title\">\n        {{ title }}\n    </mat-label>\n\n    <input matInput\n           name=\"aaa\"\n           [type]=\"type || 'text'\"\n           [formControl]=\"formControl\"\n           [placeholder]=\"placeholder\"\n           [required]=\"required\">\n\n    <mat-error [id]=\"null\">\n\n    </mat-error>\n\n    <mat-hint *ngIf=\"description\"\n              [id]=\"null\">\n        {{ description }}\n    </mat-hint>\n\n</mat-form-field>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class InputWidgetComponent extends AbstractFormFieldWidget {\n\n  title: string;\n  description: string;\n  placeholder: string;\n  required: boolean;\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { Expressions, AbstractFormFieldWidget } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-checkbox',\n  template: `<mat-checkbox labelPosition=\"before\" [formControl]=\"formControl\">\n  {{title}}\n</mat-checkbox>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CheckboxWidgetComponent extends AbstractFormFieldWidget {\n  title: string;\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { Expressions, AbstractFormFieldWidget } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-toggle',\n  template: `<mat-slide-toggle labelPosition=\"before\">\n  {{ title}}\n</mat-slide-toggle>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ToggleWidgetComponent extends AbstractFormFieldWidget {\n\n  title: string;\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { Expressions, AbstractFormFieldWidget } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-slider',\n  template: `<span>{{title}}</span>\n<mat-slider [formControl]=\"formControl\"></mat-slider>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class SliderWidgetComponent extends AbstractFormFieldWidget {\n\n  title: string;\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { Subscription } from 'rxjs';\nimport { take } from 'rxjs/operators';\nimport { isReactive } from 'espression';\nimport { AbstractWidget, Expressions, IWidgetDef, } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-button',\n  template: `<button mat-button (click)=\"clickEvent($event)\">\n  {{title}}\n</button>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ButtonWidgetComponent extends AbstractWidget {\n\n  title: string;\n  click: string;\n\n  private _lvalue: { o, m };\n  private _clickSubs: Subscription;\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n  dynOnSetup(def: IWidgetDef) {\n\n    if (def.bind) {\n\n      const lvalue = this._expr.lvalue(def.bind, this.context);\n\n      if (!lvalue)\n        throw new Error('Form field \"bind\" property must be an identifier or member expression');\n\n      if (!isReactive(lvalue.o))\n        throw new Error('Bound Key must be of Reactive Type');\n\n      this._lvalue = lvalue;\n    }\n\n    return def;\n  }\n\n  clickEvent(_event) {\n\n    if (this._clickSubs) {\n      this._clickSubs.unsubscribe();\n      this._clickSubs = null;\n    }\n\n    if (this.click) {\n      this._clickSubs = this._expr.eval(this.click, this.context, true).pipe(\n        take(1)).subscribe(res =>\n          this._lvalue.o[this._lvalue.m] = res);\n    }\n  }\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { FormGroup, FormArray } from '@angular/forms';\nimport { RxObject } from 'espression';\nimport { AbstractWidget, IWidgetDef, Context, Expressions, FORM_CONTROL } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-form',\n  template: `<ng-container *ngFor=\"let element of content\" [wdgWidget]=\"element\" [parentContext]=\"context\">\n\n</ng-container>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class FormWidgetComponent extends AbstractWidget {\n\n  formGroup: FormGroup;\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n  dynOnSetup(def: IWidgetDef) {\n\n    this.formGroup = new FormGroup({});\n\n    // register with parent form, if any\n    const parentForm: FormGroup | FormArray = this.context[FORM_CONTROL];\n    if (parentForm) {\n      if (parentForm instanceof FormGroup) parentForm.addControl('control', this.formGroup);\n      else if (parentForm instanceof FormArray) parentForm.push(this.formGroup);\n    }\n\n    // save this FormGroup as parent form for the children\n    Context.defineHidden(this.context, { [FORM_CONTROL]: this.formGroup });\n\n    // create a Store for the variables\n\n    this.context['$model'] = RxObject({});\n    return def;\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { map, startWith } from 'rxjs/operators';\nimport { Expressions, AbstractFormFieldWidget } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-autocomplete',\n  template: `<mat-form-field style.width=\"100%\">\n\n  <mat-label *ngIf=\"title\">\n    {{ title }}\n  </mat-label>\n\n  <input matInput name=\"aaa\" [type]=\"type || 'text'\" [formControl]=\"formControl\" [placeholder]=\"placeholder\"\n    [matAutocomplete]=\"auto\">\n\n  <mat-error [id]=\"null\">\n\n  </mat-error>\n\n  <mat-hint *ngIf=\"description\" [id]=\"null\">\n    {{ description }}\n  </mat-hint>\n\n  <mat-autocomplete #auto=\"matAutocomplete\">\n    <mat-option *ngFor=\"let option of filteredOptions | async; index as optIndex\" [value]=\"option\">\n      {{option}}\n    </mat-option>\n  </mat-autocomplete>\n\n</mat-form-field>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class AutocompleteWidgetComponent extends AbstractFormFieldWidget implements OnInit {\n\n  title: string;\n  description: string;\n  placeholder: string;\n\n  enum: string[] = [];\n  enumLabel: string[];\n  filteredOptions: Observable<string[]>;\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n\n\n  dynOnBeforeBind() {\n    this.map('enum', val => {\n      return Array.isArray(val) ? val : [];\n    });\n  }\n\n  dynOnAfterBind() {\n    this.map('enum', val => (this._filter(this.formControl.value), val));\n  }\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.filteredOptions = this.formControl.valueChanges\n      .pipe(\n        startWith(''),\n        map(value => this._filter(value))\n      );\n  }\n\n  private _filter(value: string): string[] {\n\n    const filterValue = value && value.toLowerCase();\n\n    return this.enum.filter(option => option.toLowerCase().includes(filterValue));\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { NgModule } from '@angular/core';\n\nimport { MaterialModule } from '../material.module';\nimport { WidgetsCoreModule } from '../../core/index';\n\nimport { InputWidgetComponent } from './input/input.component';\nimport { CheckboxWidgetComponent } from './checkbox/checkbox.component';\nimport { ToggleWidgetComponent } from './toggle/toggle.component';\nimport { SliderWidgetComponent } from './slider/slider.component';\nimport { ButtonWidgetComponent } from './button/button.component';\nimport { FormWidgetComponent } from './form/form.component';\nimport { AutocompleteWidgetComponent } from './autocomplete/autocomplete.component';\n\n\n@NgModule({\n  imports: [\n    MaterialModule,\n\n    WidgetsCoreModule.forRoot({\n      widgets: [\n        { type: 'input', component: InputWidgetComponent },\n        { type: 'checkbox', component: CheckboxWidgetComponent },\n        { type: 'toggle', component: ToggleWidgetComponent },\n        { type: 'slider', component: SliderWidgetComponent },\n        { type: 'button', component: ButtonWidgetComponent },\n        { type: 'form', component: FormWidgetComponent },\n        { type: 'autocomplete', component: AutocompleteWidgetComponent },\n\n      ]\n    })\n  ],\n  declarations: [\n    InputWidgetComponent,\n    CheckboxWidgetComponent,\n    ToggleWidgetComponent,\n    SliderWidgetComponent,\n    ButtonWidgetComponent,\n    FormWidgetComponent,\n    AutocompleteWidgetComponent\n  ],\n  exports: []\n})\nexport class FormFieldWidgetsModule { }\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef} from '@angular/core';\nimport { AbstractWidget, IWidgetDef, Expressions } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-card',\n  template: `<mat-card>\n  <mat-card-title *ngIf=\"title\">{{title}}</mat-card-title>\n  <mat-card-subtitle *ngIf=\"description\">{{description}}</mat-card-subtitle>\n  <mat-card-content>\n    <ng-container *ngFor=\"let element of content\" [wdgWidget]=\"element\" [parentContext]=\"context\"></ng-container>\n  </mat-card-content>\n  <mat-card-actions align=\"end\" *ngIf=\"actions\">\n    <ng-container *ngFor=\"let element of actions\" [wdgWidget]=\"element\" [parentContext]=\"context\"></ng-container>\n  </mat-card-actions>\n</mat-card>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CardWidgetComponent extends AbstractWidget {\n\n  title: string;\n  description: string;\n  actions: IWidgetDef[];\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { Component, OnInit, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef, ViewChild} from '@angular/core';\nimport { Observable, isObservable } from 'rxjs';\nimport { MatTableDataSource } from '@angular/material/table';\nimport { MatPaginator } from '@angular/material/paginator';\nimport { MatSort } from '@angular/material/sort';\nimport { AbstractWidget, Context, Expressions, parseDefObject } from '../../../core/index';\nimport { combineMixed } from 'espression';\n\n@Component({\n  selector: 'wdg-table',\n  template: `<div>\n  <section class=\"table-title\">\n    <h6>{{title}}</h6>\n\n    <div class=\"spacer\"></div>\n\n    <mat-form-field *ngIf=\"filterBy\">\n      <input matInput (keyup)=\"applyFilter($event.target.value)\" placeholder=\"Filter\">\n    </mat-form-field>\n  </section>\n\n  <section class=\"mat-elevation-z1\">\n    <table mat-table [dataSource]=\"tableDataSource\" matSort [matSortDisabled]=\"!disableSort\">\n\n      <!-- Dynamic Column definitions-->\n      <ng-container [matColumnDef]=\"colKey\" *ngFor=\"let colKey of colKeys; index as colIndex\">\n        <th mat-header-cell *matHeaderCellDef mat-sort-header [disabled]=\"disableSort?.indexOf(colKey) >= 0\"> {{colHeaders[colIndex] || colKey}} </th>\n        <ng-container *ngIf=\"colFormat && colFormat[colIndex]; else noFormatCellDef\">\n          <td mat-cell *matCellDef=\"let rowData\">{{rowData[colKey] | format:colFormat[colIndex]}}</td>\n        </ng-container>\n        <ng-template #noFormatCellDef>\n          <td mat-cell *matCellDef=\"let rowData\">{{rowData[colKey]}}</td>\n        </ng-template>\n      </ng-container>\n\n      <ng-container *ngIf=\"actions?.length\" [matColumnDef]=\"'__actions__'\">\n        <th mat-header-cell *matHeaderCellDef > {{actionsHeader || 'Actions'}} </th>\n        <td mat-cell *matCellDef=\"let rowData\">\n          <button mat-icon-button [matMenuTriggerFor]=\"menu\">\n            <mat-icon svgIcon=\"dots-vertical\"></mat-icon>\n          </button>\n          <mat-menu #menu=\"matMenu\">\n\n            <button mat-menu-item *ngFor=\"let action of actions; index as actionIndex\" (click)=\"actionClick(rowData, actionIndex)\">\n              <mat-icon [svgIcon]=\"actions[actionIndex].icon\"></mat-icon>\n              <span>{{actions[actionIndex].label}}</span>\n            </button>\n          </mat-menu>\n        </td>\n      </ng-container>\n\n\n      <!-- Row definitions-->\n      <ng-container *ngIf=\"colHeaders\">\n        <tr mat-header-row *matHeaderRowDef=\"showCols\" class=\"header-row\"></tr>\n      </ng-container>\n      <tr mat-row *matRowDef=\"let element; columns: showCols;\" class=\"data-row\"></tr>\n    </table>\n\n    <mat-paginator [class.hiddenPaginator]=\"!pageSizes\" [pageSizeOptions]=\"pageSizes\" [hidePageSize]=\"pageSizes?.length<=1\"></mat-paginator>\n  </section>\n</div>\n`,\n  styles: [`wdg-table table{width:100%}wdg-table tr.data-row:hover{background:#f5f5f5}wdg-table tr.data-row:active{background:#efefef}wdg-table .data-row td{border-bottom-width:0}wdg-table mat-paginator.hiddenPaginator{display:none}wdg-table .table-title{display:flex;flex-flow:row}wdg-table .table-title>*{flex:0 0 auto}wdg-table .table-title .spacer{flex:1 1 auto}`],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TableWidgetComponent extends AbstractWidget implements OnInit {\n\n  title: string;\n  dataSource: Observable<any[]> | any[];\n  tableDataSource: MatTableDataSource<{ [prop: string]: any }>;\n\n  colKeys: string[];\n  colHeaders: string[];\n  colsVisible: string[];\n  pageSizes: number[];\n  filterBy: string[];\n  disableSort: string[] = [];\n\n  colTransform: string[];\n  colFormat: string[];\n\n  actions: { icon: string, label: string, action: string }[] = [];\n  actionsHeader: string;\n  showCols: string[];\n\n  @ViewChild(MatPaginator) paginator: MatPaginator;\n  @ViewChild(MatSort) sort: MatSort;\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n    this.tableDataSource = new MatTableDataSource();\n  }\n\n  dynOnBeforeBind() {\n\n    const opt = this.widgetDef.options;\n\n\n    // if the only source is a static array, lets check if it has 'property=' columns to evaluate\n    // and add the auto binding\n    if (opt && !opt['dataSource='] &&\n      Array.isArray(opt.dataSource)) {\n\n      const dataSource = <Observable<any[]>>combineMixed(opt.dataSource.map(row =>\n        combineMixed(parseDefObject(row, this.context, false, this._expr)), false), false);\n      if (isObservable(dataSource)) this.bindings.dataSource = dataSource;\n      else this.dataSource = dataSource;\n    }\n\n\n    this.map('disableSort', sort => {\n      if (sort === true) return null;\n      if (!Array.isArray(sort)) return [];\n      return sort;\n\n    });\n\n    this.map('dataSource', (table: any[]) =>\n      this.tableDataSource.data = table.map(row => {\n        row = parseDefObject(row, Context.create(this.context, { $data: row }), false, this._expr);\n\n        if (Array.isArray(this.colTransform)) {\n\n          for (let i = 0; i < this.colTransform.length; i++) {\n            if (this.colTransform[i]) {\n              const context: any = Context.create(this.context);\n              context.$data = row[this.colKeys[i]];\n              row[this.colKeys[i]] = this._expr.eval(this.colTransform[i], context, false);\n            }\n          }\n\n        }\n\n        return row;\n      })\n    );\n\n    this.map('pageSizes', (value) => {\n      if (!Array.isArray(value) || !value.length) {\n        this.tableDataSource.paginator = null;\n        return null;\n      }\n      this.tableDataSource.paginator = this.paginator;\n      return value;\n    });\n\n    this.map('colKeys', keys => {\n      if (this.actions && this.actions.length) this.showCols = keys.concat('__actions__');\n      else this.showCols = keys;\n      return keys;\n    });\n    this.map('actions', actions => {\n      if (!Array.isArray(actions)) actions = [];\n\n      this.showCols = actions.length ? this.colKeys.concat('__actions__') : this.colKeys;\n\n      return actions;\n    });\n  }\n\n  ngOnInit() {\n    super.ngOnInit();\n\n    this.tableDataSource.sort = this.sort;\n  }\n  applyFilter(filterValue: string) {\n    this.tableDataSource.filter = filterValue;\n\n    if (this.tableDataSource.paginator) {\n      this.tableDataSource.paginator.firstPage();\n    }\n  }\n\n  actionClick(rowData: any, actionIndex: number) {\n\n    const context = Context.create(this.context, { $data: rowData });\n\n    this.addSubscription = this._expr.eval(this.actions[actionIndex].action, context, true).subscribe(\n      () => {\n        // TODO logic to reload table\n      }\n    );\n  }\n\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef} from '@angular/core';\nimport { AbstractWidget, Expressions } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-container',\n  template: `<ng-container *ngFor=\"let element of content\" [wdgWidget]=\"element\" [parentContext]=\"context\">\n\n</ng-container>\n`,\n  styles: [`wdg-container.wdg-flex{display:flex;flex-wrap:wrap}wdg-container.wdg-flex>*{flex:1 1 auto}`],\n\n  // tslint:disable-next-line:use-host-property-decorator\n  host: {\n    '[class.wdg-flex]': 'true',\n    '[style.flex-direction]': 'direction'\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class ContainerWidgetComponent extends AbstractWidget {\n\n  direction: string;\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n  dynOnBeforeBind() {\n\n    this.map('direction', dir => dir || 'row');\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef} from '@angular/core';\nimport { AbstractWidget, Expressions } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-grid-container',\n  template: `<ng-container *ngFor=\"let element of content\" [wdgWidget]=\"element\" [parentContext]=\"context\">\n\n</ng-container>\n`,\n  styles: [`wdg-grid-container.wdg-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));grid-auto-flow:row dense}`],\n\n  // tslint:disable-next-line:use-host-property-decorator\n  host: {\n    '[class.wdg-grid]': 'true',\n    '[style.flex-direction]': 'direction'\n  },\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class GridContainerWidgetComponent extends AbstractWidget {\n\n  direction: string;\n\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n  dynOnBeforeBind() {\n\n    this.map('direction', dir => dir || 'row');\n  }\n\n}\n","import { Component, OnInit, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef } from '@angular/core';\nimport { AbstractWidget, Expressions } from '../../../core/index';\n\n@Component({\n  selector: 'wdg-tabs',\n  template: `<mat-tab-group>\n\n  <mat-tab *ngFor=\"let tab of content; index as tabIndex\" [label]=\"tabLabels[tabIndex] || ('Tab'+tabIndex)\">\n\n    <ng-template matTabContent>\n      <ng-container [wdgWidget]=\"tab\" [parentContext]=\"context\"></ng-container>\n    </ng-template>\n\n  </mat-tab>\n\n\n</mat-tab-group>\n`,\n  styles: [``],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class TabsWidgetComponent extends AbstractWidget implements OnInit {\n\n  tabLabels: string[];\n  constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n    super(cdr, expr);\n  }\n\n  ngOnInit() {\n  }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\nimport { Component, ViewEncapsulation, ChangeDetectionStrategy, ChangeDetectorRef} from '@angular/core';\nimport { AbstractWidget, Expressions } from '../../../core/index';\n\n@Component({\n    selector: 'wdg-code',\n    template: `<code>\n{{text}}\n</code>`,\n    styles: [`wdg-code code{white-space:pre}`],\n\n    encapsulation: ViewEncapsulation.None,\n    changeDetection: ChangeDetectionStrategy.OnPush\n})\nexport class CodeWidgetComponent extends AbstractWidget {\n\n    text: string;\n\n    constructor(cdr: ChangeDetectorRef, expr: Expressions) {\n        super(cdr, expr);\n    }\n\n}\n","/**\n * Copyright (c) 2018 Adrian Panella <ianchi74@outlook.com>\n *\n * This software is released under the MIT License.\n * https://opensource.org/licenses/MIT\n */\n\n\nimport { NgModule } from '@angular/core';\n\nimport { MaterialModule } from '../material.module';\nimport { WidgetsCoreModule } from '../../core/index';\n\nimport { CardWidgetComponent } from './card/card.component';\nimport { TableWidgetComponent } from './table/table.component';\nimport { ContainerWidgetComponent } from './container/container.component';\nimport { GridContainerWidgetComponent } from './grid-container/gridcontainer.component';\nimport { TabsWidgetComponent } from './tabs/tabs.component';\nimport { CodeWidgetComponent } from './code/code.component';\n\n@NgModule({\n  imports: [\n    MaterialModule,\n\n    WidgetsCoreModule.forRoot({\n      widgets: [\n        { type: 'card', component: CardWidgetComponent },\n        { type: 'table', component: TableWidgetComponent },\n        { type: 'container', component: ContainerWidgetComponent},\n        { type: 'grid-container', component: GridContainerWidgetComponent},\n        { type: 'tabs', component: TabsWidgetComponent},\n        { type: 'code', component: CodeWidgetComponent},\n      ]\n    })\n  ],\n  declarations: [\n    CardWidgetComponent,\n    TableWidgetComponent,\n    ContainerWidgetComponent,\n    GridContainerWidgetComponent,\n    TabsWidgetComponent,\n    CodeWidgetComponent,\n  ],\n  exports: []\n})\nexport class CommonWidgetsModule { }\n"],"names":["map","tap","combineLatest","tslib_1.__values","Input","isObservable","of","tslib_1.__extends","es5Rules","Parser","IdentifierRule","BinaryOperatorRule","MEMBER_EXP","ReactiveEval","EMPTY","Component","ViewEncapsulation","ChangeDetectionStrategy","ChangeDetectorRef","InjectionToken","Injectable","Inject","Directive","ViewContainerRef","ComponentFactoryResolver","Optional","Pipe","formatNumber","formatDate","ActivatedRoute","ANALYZE_FOR_ENTRY_COMPONENTS","NgModule","CommonModule","isReactive","FormControl","take","FormGroup","FormArray","GET_OBSERVABLE","ReactiveFormsModule","MatAutocompleteModule","MatSidenavModule","MatButtonModule","MatIconModule","MatListModule","MatInputModule","MatDialogModule","MatToolbarModule","MatProgressBarModule","MatExpansionModule","MatSelectModule","MatTabsModule","MatSnackBarModule","MatSlideToggleModule","MatChipsModule","MatCardModule","MatCheckboxModule","MatSliderModule","MatTableModule","MatPaginatorModule","MatSortModule","MatMenuModule","RxObject","startWith","MatTableDataSource","combineMixed","sort","table","ViewChild","MatPaginator","MatSort"],"mappings":"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"}
